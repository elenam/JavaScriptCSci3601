
<!DOCTYPE html>
<!-- Elena Machkasova, UMM. Examples for CSci 3601 Spring 2014 -->
<html>
<head>
    <title>Introduction to JavaScript</title>
</head>
<body>
<p>
    <script language="JavaScript">
        var x = 2;
        // output the result here:
        document.write("x = " + x + "<br />");

        // conditionals: if statements, switch
        if (x < 2) {
            document.write(x + " is less than 2<br />");
        } else {
            document.write(x + " is not less than 2<br />");
        }

        switch(x) {
            case 0:
                document.write("case 0<br />");
                break;
            case 1:case 2:
            document.write("case  1 or 2<br />");
            break;
            default:
                document.write("Anything else<br />");
        }

        // booleans
        var b = true;
        if (b && !b) {
            document.write("This is impossible!<br />");
        }

        // data types
        document.write("The type of " + x + " is " + typeof(x) + "<br />");
        document.write("The type of " + b + " is " + typeof(b) + "<br />");

        // the type is determined by the value stored in a variable
        var y = 5.6;
        document.write("The type of " + y + " is " + typeof(y) + "<br />");
        y = "hello";
        document.write("The type of " + y + " is " + typeof(y) + "<br />");
        y = 'hello';
        document.write("The type of " + y + " is " + typeof(y) + "<br />");


        // undefined variables
        document.write("The type of z (a variable not declared or initialized)" + " is " + typeof(z) + "<br />");

        // if a variable hasn't been declared, using it is a run-time error:
        // document.write("z = " + z + "<br />");
        // now uncomment this and the previous statement:
        // var z;
        // Lesson: you can declare variables *after* they have been used, it's still a declaration

        document.write("n = " + n  + "<br />");
        var n = 1;

        // comparisons (pay attention here!)

        // == checks for value equality
        document.write("x == 2: " + (x == 2) + "<br />");
        document.write("x == '2': " + (x == '2') + "<br />");

        // === checks for value and type equality
        document.write("x === 2: " + (x === 2) + "<br />");
        document.write("x === '2': " + (x === '2') + "<br />");

        // checking if a variable is undefined:
        if (typeof(z) === "undefined") {
            document.write("z is undefined<br />");
        }

        // javascript arrays
        var mycolors = new Array();
        mycolors[0] = "red";
        mycolors[1] = "blue";
        mycolors[2] = "green";

        // or you can use java-like notations:
        var days = ["Monday", "Wednesday", "Friday"];

        // arrays are not typed and not consecutive:
        mycolors[5] = 555;

        for (var i = 0; i < mycolors.length; ++i){
            document.write(mycolors[i] + "<br />");
        }

        // a for-in loop would go only over indices for which values are defined
        // note differences with Java: c is an index, not an element
        for (c in mycolors) {
            document.write("The element at index " + c + " is " + mycolors[c] + "<br />");
        }

        // JavaScript functions
        function averageOfTwo(arg1, arg2) {
            return (arg1 + arg2)/2;
        }

        // function call
        document.write("averageOfTwo(5, 6) = " + averageOfTwo(5, 6) + "<br />");

        // functions are first-class citizens:
        var add5 = function(arg) {return (arg + 5);};

        document.write("add5(6) = " + add5(6) + "<br />");

        var add5Too = add5;

        document.write("add5Too(6) = " + add5Too(6) + "<br />");

        // functions can be returned from other functions
        function makeAdder(toAdd) {
            return function(x) {
                return (x + toAdd);
            }
        }

        var add2 = makeAdder(2);

        document.write("add2(6) = " + add2(6) + "<br />");

        var subtract2 = makeAdder(-2);

        document.write("subtract2(6) = " + subtract2(6) + "<br />");

        // JavaScript closures
        function makeCounter() {
            var counter = 0;
            return function() {
                counter++;
                return counter;
            }
        }

        var incrCounter1 = makeCounter();
        incrCounter1();
        incrCounter1();
        // increment and print:
        document.write("We increment the counter the third time and print it: " + incrCounter1() + "<br />");

        var incrCounter2 = makeCounter();
        incrCounter2();
        // increment and print:
        document.write("We increment the second counter and print it: " + incrCounter2() + "<br />");
        document.write("The first counter works independently: " + incrCounter1() + "<br />");
    </script>
</p>
</body>
</html>